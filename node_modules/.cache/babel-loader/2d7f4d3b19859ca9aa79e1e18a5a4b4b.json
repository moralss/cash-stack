{"ast":null,"code":"import _objectWithoutProperties from \"/home/moral/workspace/start/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/moral/workspace/start/src/routes/index.jsx\";\nimport React from \"react\";\nimport { Router, Route, Redirect } from \"react-router-dom\";\nimport Register from \"../components/Register\";\nimport history from \"./history.js\";\nimport Navbar from \"../components/Navbar\";\nimport Login from \"../components/Login\";\nimport Dashboard from \"../components/Dashboard\";\nimport store from \"../store\";\nimport { AUTHENTICATED } from \"../actionTypes\";\nconst user = localStorage.getItem(\"user\");\n\nif (user) {\n  store.dispatch({\n    type: AUTHENTICATED,\n    payload: {\n      auth: true\n    }\n  });\n}\n\nexport const callCheck = async () => {// const check = await checkUser();\n  // return check\n};\n\nconst PrivateRoute = (_ref) => {\n  let Component = _ref.component,\n      rest = _objectWithoutProperties(_ref, [\"component\"]);\n\n  let authenticated = store.getState().user.auth;\n  console.log(\"authenticated\", authenticated);\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: props => authenticated.auth === true ? React.createElement(Route, Object.assign({}, rest, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    })) : React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }));\n};\n\nconst mainRoute = () => {\n  return React.createElement(Router, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/register\",\n    component: props => React.createElement(Register, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    component: props => React.createElement(Login, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/dashboard\",\n    render: props => React.createElement(Dashboard, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })));\n};\n\nexport default mainRoute;","map":{"version":3,"sources":["/home/moral/workspace/start/src/routes/index.jsx"],"names":["React","Router","Route","Redirect","Register","history","Navbar","Login","Dashboard","store","AUTHENTICATED","user","localStorage","getItem","dispatch","type","payload","auth","callCheck","PrivateRoute","Component","component","rest","authenticated","getState","console","log","props","mainRoute"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;;AAEA,IAAIF,IAAJ,EAAU;AACRF,EAAAA,KAAK,CAACK,QAAN,CAAe;AAAEC,IAAAA,IAAI,EAAEL,aAAR;AAAuBM,IAAAA,OAAO,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR;AAAhC,GAAf;AACD;;AAED,OAAO,MAAMC,SAAS,GAAG,YAAY,CACnC;AACA;AACD,CAHM;;AAKP,MAAMC,YAAY,GAAG,UAAuC;AAAA,MAAzBC,SAAyB,QAApCC,SAAoC;AAAA,MAAXC,IAAW;;AAC1D,MAAIC,aAAa,GAAGd,KAAK,CAACe,QAAN,GAAiBb,IAAjB,CAAsBM,IAA1C;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BH,aAA7B;AAEA,SACE,oBAAC,KAAD,oBACMD,IADN;AAEE,IAAA,MAAM,EAAEK,KAAK,IACXJ,aAAa,CAACN,IAAd,KAAuB,IAAvB,GAA8B,oBAAC,KAAD,oBAAWK,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA9B,GAAoD,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAQD,CAZD;;AAcA,MAAMM,SAAS,GAAG,MAAM;AACtB,SACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEvB,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,WAFP;AAGE,IAAA,SAAS,EAAEsB,KAAK,IAAI,oBAAC,QAAD,oBAAcA,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,QAAlB;AAA2B,IAAA,SAAS,EAAEA,KAAK,IAAI,oBAAC,KAAD,oBAAWA,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOE,oBAAC,YAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,IAAI,EAAC,YAFP;AAGE,IAAA,MAAM,EAAEA,KAAK,IAAI,oBAAC,SAAD,oBAAeA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAFF,CADF;AAkBD,CAnBD;;AAqBA,eAAeC,SAAf","sourcesContent":["import React from \"react\";\nimport { Router, Route, Redirect } from \"react-router-dom\";\nimport Register from \"../components/Register\";\nimport history from \"./history.js\";\nimport Navbar from \"../components/Navbar\";\nimport Login from \"../components/Login\";\nimport Dashboard from \"../components/Dashboard\";\nimport store from \"../store\";\nimport { AUTHENTICATED } from \"../actionTypes\";\nconst user = localStorage.getItem(\"user\");\n\nif (user) {\n  store.dispatch({ type: AUTHENTICATED, payload: { auth: true } });\n}\n\nexport const callCheck = async () => {\n  // const check = await checkUser();\n  // return check\n};\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  let authenticated = store.getState().user.auth;\n  console.log(\"authenticated\", authenticated);\n\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authenticated.auth === true ? <Route {...rest} /> : <Redirect to=\"/\" />\n      }\n    />\n  );\n};\n\nconst mainRoute = () => {\n  return (\n    <Router history={history}>\n      <Navbar />\n      <div>\n        <Route\n          exact\n          path=\"/register\"\n          component={props => <Register {...props} />}\n        />\n        <Route exact path=\"/login\" component={props => <Login {...props} />} />\n        <PrivateRoute\n          exact\n          path=\"/dashboard\"\n          render={props => <Dashboard {...props} />}\n        />\n      </div>\n    </Router>\n  );\n};\n\nexport default mainRoute;\n"]},"metadata":{},"sourceType":"module"}